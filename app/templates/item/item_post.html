<ion-view view-title="{{ 'Create Item'|translate }}">
    <ion-content>
        <form name="form" ng-submit="create(form, item)" novalidate>
            <div class="list">
                <!-- Title -->
                <label class="item item-input item-floating-label"
                       ng-class="{ 'has-error' : form.title.$invalid && !form.title.$pristine  && formSubmitted }">
                    <span class="input-label" translate>Title</span>
                    <input type="text"
                            placeholder="{{ 'Title'|translate }}"
                            name="title"
                            ng-model="item.title"
                            ng-minlength="5"
                            ng-maxlength="155"
                            required>
                </label>

                <!-- Error -->
                <span ng-show="form.$submitted">
                    <p class="item item-error bar bar-assertive" ng-show="form.title.$error.minlength">
                        <i class="icon icon-error-bg ion-information-circled"></i> <translate>Title is too short</translate>
                    </p>
                    <p class="item item-error bar bar-assertive" ng-show="form.title.$error.maxlength">
                        <i class="icon icon-error-bg ion-information-circled"></i> <translate>Title too long</translate>
                    </p>
                    <p class="item item-error bar bar-assertive" ng-show="form.title.$error.required">
                        <i class="icon icon-error-bg ion-information-circled"></i> <translate>Title is required</translate>
                    </p>
                </span>

                <!-- Description -->
                <label class="item item-input item-floating-label"
                       ng-class="{ 'has-error' : form.description.$invalid && !form.description.$pristine && formSubmitted  }">
                    <span class="input-label" translate>Description</span>
                    <textarea placeholder="{{ 'Description'|translate }}"
                            name="description"
                            cols="30"
                            rows="10"
                            ng-model="item.description"
                            ng-minlength="15"
                            required>
                    </textarea>
                </label>

                <!-- Error -->
                <span ng-show="form.$submitted">
                    <p class="item item-error bar bar-assertive" ng-show="form.description.$error.minlength">
                        <i class="icon icon-error-bg ion-information-circled"></i> <translate>Description is too short</translate>
                    </p>
                    <p class="item item-error bar bar-assertive" ng-show="form.description.$error.required">
                        <i class="icon icon-error-bg ion-information-circled"></i> <translate>Description is required</translate>
                    </p>
                </span>

                <!-- Tags -->
                <label class="item item-input item-floating-label"
                       ng-class="{ 'has-error' : form.tags.$invalid && !form.tags.$pristine && formSubmitted }">
                    <input type="text"
                            placeholder="{{ 'Tags separated by space'|translate }}"
                            name="tags"
                            ng-model="item.tags"
                            ng-minlength="3"
                            ng-maxlength="50"
                            required>
                </label>

                <!-- Error -->
                <span ng-show="form.$submitted">
                    <p class="item item-error bar bar-assertive" ng-show="form.tags.$error.required">
                        <i class="icon icon-error-bg ion-information-circled"></i> <translate>Tags are required</translate>
                    </p>
                </span>

                <!-- Is Free ? -->
                <ion-checkbox ng-model="item.isFree">It's a Free Item</ion-checkbox>


                <!-- Error -->
                <span ng-show="form.$submitted">
                    <p class="item item-error bar bar-assertive" ng-show="form.moneyCurrency.$error.required">
                        <i class="icon icon-error-bg ion-information-circled"></i> <translate>Currency is required</translate>
                    </p>
                </span>

                <!-- Min/Max/Dis Price -->
                <div class="list" ng-if="!item.isFree">
                    <label class="item item-input item-select">
                        <div class="input-label t-small">Money Currency</div>
                        <select name="moneyCurrency"
                            ng-model="item.moneyCurrency"
                            ng-options="k for k in moneyCurrencies">
                        </select>
                    </label>
                    <label class="item item-input">
                        <span class="input-label t-small">Minimum Price</span>
                        <input type="number"
                               name="minPrice"
                               ng-model="item.minPrice"
                               ng-min="0"
                               required>
                    </label>
                    <label class="item item-input">
                        <span class="input-label t-small">Maximum Price</span>
                        <input type="number"
                               name="maxPrice"
                               ng-model="item.maxPrice"
                               ng-min="item.minPrice"
                               required>
                    </label>
                    <label class="item item-input">
                        <span class="input-label t-small">Discounted Price</span>
                        <input type="number"
                               name="discountedPrice"
                               ng-model="item.discountedPrice"
                               ng-max="item.maxPrice">
                    </label>
                </div>

                <!-- Buttons -->
                <button class="button button-full button-positive" type="submit">
                    <i class="ion-android-checkmark-circle"></i> <translate>Create Post</translate>
                </button>
                <a href="#!/app/explor" class="button button-full button-small button-assertive button-outline">
                    <translate>Cancel</translate>
                </a>
            </div>
        </form>
    </ion-content>
</ion-view>
